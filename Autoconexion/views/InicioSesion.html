<!DOCTYPE html>
<html lang="es"> <!-- Define el idioma del contenido a español -->
<head>
  <meta charset="UTF-8"> <!-- Define la codificación de caracteres a UTF-8 -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Ajusta la página al tamaño de la pantalla del dispositivo -->
  <title>Iniciar Sesión</title> <!-- Título de la página que se muestra en la pestaña del navegador -->
  <link rel="stylesheet" href="/css/styles.css">  <!-- Enlace al archivo CSS externo para estilos -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"> <!-- Enlace a Font Awesome para usar iconos -->

  <style>
    /* Estilo general para el cuerpo de la página */
    body {
      background: linear-gradient(to right, #4A90E2, #9013FE); /* Fondo degradado */
      display: flex; /* Usa flexbox para centrar el contenido */
      justify-content: center; /* Centra horizontalmente */
      align-items: center; /* Centra verticalmente */
      height: 100vh; /* Altura completa de la ventana */
      font-family: Arial, sans-serif; /* Fuente del texto */
      color: white; /* Color del texto */
    }

    /* Estilo para el contenedor de inicio de sesión */
    .login-container {
      background: rgba(255, 255, 255, 0.1); /* Fondo semi-transparente */
      padding: 30px; /* Espaciado interno */
      border-radius: 10px; /* Bordes redondeados */
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3); /* Sombra para dar profundidad */
      text-align: center; /* Centra el texto */
      backdrop-filter: blur(5px); /* Efecto de desenfoque de fondo */
    }

    /* Estilo para el título */
    h2 {
      margin-bottom: 20px; /* Espaciado inferior */
      font-size: 2em; /* Tamaño de la fuente */
    }

    /* Estilo para los campos de entrada */
    input[type="text"], input[type="password"] {
      width: 100%; /* Ancho completo */
      padding: 10px; /* Espaciado interno */
      margin: 10px 0; /* Espaciado vertical */
      border: none; /* Sin borde */
      border-radius: 5px; /* Bordes redondeados */
      transition: all 0.3s; /* Transición suave para efectos */
    }

    /* Estilo al enfocar los campos de entrada */
    input[type="text"]:focus, input[type="password"]:focus {
      border: 2px solid #4A90E2; /* Borde azul al enfocar */
      outline: none; /* Sin contorno al enfocar */
    }

    /* Estilo para los botones */
    button {
      background-color: #4A90E2; /* Color de fondo azul */
      color: white; /* Color del texto */
      border: none; /* Sin borde */
      padding: 10px 15px; /* Espaciado interno */
      border-radius: 5px; /* Bordes redondeados */
      cursor: pointer; /* Cambia el cursor al pasar el mouse */
      transition: background 0.3s; /* Transición para el color de fondo */
      margin-top: 10px; /* Espaciado superior */
    }

    /* Estilo al pasar el mouse sobre el botón */
    button:hover {
      background-color: #357ABD; /* Cambia el color de fondo al pasar el mouse */
    }

    /* Estilo para el enlace de regreso */
    .back-link {
      margin-top: 20px; /* Espaciado superior */
      color: white; /* Color del texto */
      text-decoration: none; /* Sin subrayado */
    }

    /* Estilo al pasar el mouse sobre el enlace de regreso */
    .back-link:hover {
      text-decoration: underline; /* Subraya el texto al pasar el mouse */
    }

    /* Estilo para el mensaje de registro */
    .register-link {
      margin-top: 15px; /* Espaciado superior */
      color: white; /* Color del texto */
      text-decoration: none; /* Sin subrayado */
    }

    /* Estilo al pasar el mouse sobre el enlace de registro */
    .register-link a {
      color: #4A90E2; /* Color del texto del enlace */
      text-decoration: none; /* Sin subrayado */
    }

    .register-link a:hover {
      text-decoration: underline; /* Subraya el texto al pasar el mouse */
    }
  </style>
</head>
<body>

  <div class="login-container"> <!-- Contenedor principal del login -->
    <h2>Iniciar Sesión</h2> <!-- Título de la sección de inicio de sesión -->
    <form> <!-- Inicio del formulario -->
      <input type="text" placeholder="Correo Electrónico" id="Email" required> <!-- Campo para el correo electrónico -->
      <input type="password" placeholder="Contraseña" id="Password" required> <!-- Campo para la contraseña -->
      <button type="submit" onclick="ingresarUsuario()">Iniciar Sesión</button> <!-- Botón para enviar el formulario -->
    </form>
    <a class="back-link" href="index.html">Volver a la página principal</a> <!-- Enlace para regresar a la página principal -->
    <p class="register-link">¿No tienes cuenta? <a href="CrearCuenta.html">Regístrate</a></p> <!-- Mensaje para registrar cuenta -->
  </div>

  <script>
    function ingresarUsuario() {
      const credenciales  = {
        contrasena: document.getElementById('Password').value,
        email: document.getElementById('Email').value,
      };
  
      // Realizar la solicitud POST al servidor para registrar el usuario
      fetch('http://localhost:3000/ingresar', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(credenciales)
      })
      .then(response => {
        if (response.ok) {
          return response.text(); // Puedes cambiar a response.json() si el servidor devuelve JSON
        } else {
          throw new Error('Error en la solicitud');
        }
      })
      .then(data => {
        alert('Usuario ingresado: ' + data);// Mensaje de éxito
        window.location.href =  'Ingresoexitoso.html';
      })
      .catch(error => {
        console.error('Error al ingresar:', error);
        alert('Hubo un error al ingresar');
      });
    }
  </script> <!-- Enlace al archivo JavaScript externo -->
</body>
</html>
